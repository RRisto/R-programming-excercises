{
    "contents" : "setwd(\"C://Users//risto//Documents//Minu asjad//Statistika, mudelid, excel//R//Coursera//courses-master//02_RProgramming//homework\")\nlist.files()\n# helper function for getting the hospital name\nhelper <- function(data, col_num, state) {\n    state_subset <- data[data[, 7]==state, ]\n    outcome_arr <- state_subset[, col_num]\n    min <- min(outcome_arr, na.rm=T)\n    min_index <- which(outcome_arr == min)\n    hosp_name <- state_subset[min_index, 2]\n    return(hosp_name)\n}\nbest <- function(state, outcome) {\n    ## Read outcome data\n    ## Check that state and outcome are valid\n    ## Return hospital name in that state with lowest 30-day death\n    ## rate\n    # read the data file\n    directory <- \"./data/outcome-of-care-measures.csv\"\n    data <- read.csv(directory, colClasses=\"character\")\n    # change data type from character to numeric\n    data[, 11] <- as.numeric(data[, 11]) # heart attack\n    data[, 17] <- as.numeric(data[, 17]) # heart failure\n    data[, 23] <- as.numeric(data[, 23]) # pneumonia\n    valid_outcomes <- c(\"heart attack\", \"heart failure\", \"pneumonia\")\n    if (!state %in% data$State) {\n        stop(\"invalid state\")\n    } else if(!outcome %in% valid_outcomes) {\n        stop(\"invalid outcome\")\n    } else {\n        if(outcome == \"heart attack\") {\n            hosp_name <- helper(data, 11, state)\n        } else if(outcome == \"heart failure\") {\n            hosp_name <- helper(data, 17, state)\n        } else {\n            hosp_name <- helper(data, 23, state)\n        }\n        result <- hosp_name\n        return(result)\n    }\n}\n# tests\n#best(\"TX\", \"heart attack\")\n#best(\"TX\", \"heart failure\")\n#best(\"MD\", \"heart attack\")\n#best(\"MD\", \"pneumonia\")\n#best(\"BB\", \"heart attack\")",
    "created" : 1427641373779.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "92151669",
    "id" : "6D657D1",
    "lastKnownWriteTime" : 1427642537,
    "path" : "~/Minu asjad/Statistika, mudelid, excel/R/Coursera/courses-master/02_RProgramming/homework/best.R",
    "project_path" : "best.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}